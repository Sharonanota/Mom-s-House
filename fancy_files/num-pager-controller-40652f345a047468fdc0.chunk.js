(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{96:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(11),a=n(2),i=n(7),o=n(8),u=n(57);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=!0,v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,n,r,f=g(p);function p(){var e;c(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=f.call.apply(f,[this].concat(n))).paginationFlagChange=function(){h=!1,window.addEventListener("PaginationChanged",(function(t){var n=Object(u.b)(t.detail.stateKey,t.detail.extraStates);n.page=t.detail.page,t.detail.ajaxEventName?e.currentlyAjaxing||(e.currentlyAjaxing=!0,Object(a.B)(t.detail.ajaxEventName,n)):Turbolinks.visit(window.location.pathname+Object(a.v)(n))}))},e.prepElementForTyping=function(){e.originalPagerValue=e.currentPageTarget.innerHTML,e.currentPageTarget.innerHTML=""},e.focusClickedElement=function(e){var t=navigator.userAgent.toLowerCase();-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")&&e.target.focus()},e.pageChange=function(t){t.preventDefault();var n="next"===t.currentTarget.getAttribute("rel")?parseInt(Object(a.j)(e.currentPageTarget),10)+1:parseInt(Object(a.j)(e.currentPageTarget),10)-1;e.firePaginationEvent(n)},e.keypressListener=function(t){"Enter"===t.key&&(t.preventDefault(),e.validatePagerContents())},e.validatePagerContents=function(){var t=Object(a.j)(e.currentPageTarget),n=e.totalNumberOfPages();t>n&&(e.currentPageTarget.innerHTML=n,t=Object(a.j)(e.currentPageTarget)),e.pageNumberInvalid(t)?e.currentPageTarget.innerHTML=e.originalPagerValue:t!==e.originalPagerValue&&e.firePaginationEvent(t)},e}return t=p,(n=[{key:"hasSearchValues",get:function(){return this.hasSearchTermValue&&this.hasContentTypeValue}},{key:"connect",value:function(){this.currentlyAjaxing=!1,this.originalPagerValue=null,this.element.setAttribute("data-loaded","true"),this.setupEventHandlers()}},{key:"setupEventHandlers",value:function(){this.currentPageTarget.addEventListener("focus",this.prepElementForTyping,!0),this.currentPageTarget.addEventListener("focusout",this.validatePagerContents,!0),this.currentPageTarget.addEventListener("keypress",this.keypressListener,!0),!0===h&&this.paginationFlagChange()}},{key:"firePaginationEvent",value:function(e){var t=this.element.getAttribute("data-page-change-event");this.hasSearchValues&&this.sendPaginationClickEvent(e),t?Object(a.O)(t,{page:e,oldPage:parseInt(Object(a.j)(this.currentPageTarget),10)}):Turbolinks.visit(this.newPageUrl(e))}},{key:"pageNumberInvalid",value:function(e){return!(""!==e&&"0"!==e&&!Number.isNaN(parseInt(e,10)))}},{key:"sendPaginationClickEvent",value:function(e){Object(i.k)({element:this.element,data:{action:o.qb,label:"Terms-".concat(this.searchTermValue),value:e,content_type:"Content-".concat(this.contentTypeValue)}})}},{key:"totalNumberOfPages",value:function(){var e=this.totalPagesTarget.innerHTML;return e=(e=e.replace(/[, ]+/g,"")).match(/\d+/g),e=parseInt(e,10)}},{key:"newPageUrl",value:function(e){var t=new URL(document.location),n=t.searchParams;return 1===e?n.delete("page"):n.set("page",e),t.search=n.toString(),t.toString()}}])&&s(t.prototype,n),r&&s(t,r),p}(r.b);v.targets=["currentPage","totalPages"],v.values={searchTerm:String,contentType:String}}}]);
//# sourceMappingURL=num-pager-controller-40652f345a047468fdc0.chunk.js.map