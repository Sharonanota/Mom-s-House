(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{142:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var a=r(2);function n(){return document.querySelector('[data-target="search-results-main-wrap"]').getAttribute("data-no-results")}function i(e){return Object(a.P)(e).toLowerCase().replace(/[^a-zA-Z0-9 ]/g,"")}},211:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r(13),n=r(9),i=r.n(n),o=r(142),s=r(7),c=r(8),u=r(212);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=g(e);if(t){var n=g(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(m,e);var t,r,a,n=h(m);function m(){var e;l(this,m);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).noResultTimer=null,e.clearNoResultsTimeout=function(t){"END_OF_RESULTS"!==t.detail&&window.clearTimeout(e.noResultTimer)},e.addMoreButton=function(){var t=e.apiResultsWrapperTarget.getAttribute("data-view-more-text"),r=e.apiResultsWrapperTarget.getAttribute("data-view-more-desc"),a=document.querySelector(".ez-resource-grid__view-more");a&&a.remove();for(var n=document.querySelectorAll("ul.ez-resource-grid--partner li"),i=n.length-1;i>0;i-=1)if("block"===n[i].style.display){var o=document.createElement("a");o.setAttribute("href",e.generateSearchUrl),o.classList.add("ez-resource-grid__view-more"),o.setAttribute("title",r),o.setAttribute("rel","nofollow"),o.setAttribute("target","_blank"),o.setAttribute("data-action","partner-sponsored-results#viewMoreClick"),o.innerHTML="<span>".concat(t,"</span>"),n[i].prepend(o);break}},e}return t=m,(r=[{key:"connect",value:function(){var e=this;Object(s.k)({element:this.element,data:{action:c.sb,label:"Terms-".concat(this.termsValue),non_interaction:!0}}),this.searchTerm=this.apiResultsWrapperTarget.getAttribute("data-keyword"),this.resourceID=this.apiResultsWrapperTarget.getAttribute("data-resource-id"),this.impactRadiusCouponCodeUrl=this.element.getAttribute("data-impact-radius-coupon-code-url"),this.sharedId=this.element.getAttribute("data-sharedid"),this.subId1=this.element.getAttribute("data-subid-one"),this.subId2=this.element.getAttribute("data-subid-two"),this.partnerServiceUrl=this.element.getAttribute("data-partner-service-url"),this.getPartnerImageResults(),this.noResultTimer=setTimeout((function(){e.element.querySelector(".ez-resource-thumb")||e.element.parentNode.removeChild(e.element)}),this.noResultsDelay),window.addEventListener("resultsLoaded",this.clearNoResultsTimeout)}},{key:"disconnect",value:function(){window.removeEventListener("resultsLoaded",this.clearNoResultsTimeout)}},{key:"trackClick",value:function(e){Object(s.k)({element:this.element,data:{action:c.rb,label:"Terms-".concat(this.termsValue),partner_click_selection:e}})}},{key:"noResultsDelay",get:function(){return 15e3}},{key:"placement",get:function(){return this.apiResultsWrapperTarget.getAttribute("data-placement")}},{key:"adPlacement",get:function(){var e=document.querySelector("body").dataset.istockAdplacementSuffix;return void 0===e&&(e=""),this.resourceID?"ADP".concat(e):Object(o.a)()?"NRP".concat(e):"SRP".concat(e)}},{key:"partnerClick",value:function(){this.trackClick("Partner-Content")}},{key:"revealPromoCode",value:function(e){e.preventDefault(),this.trackClick("Partner-Coupon"),this.makeCouponWindow(),window.location=this.makeCouponCodePartnerUrl()}},{key:"makeCouponCodePartnerUrl",value:function(){var e="sharedid=".concat(this.sharedId)+"&subId1=coupon"+"&subId2=".concat(this.subId2)+"&adtype=".concat(this.adType)+"&adplacement=".concat(this.adPlacement)+"&subId3=".concat(encodeURI(this.searchTerm),"_CPN_").concat(this.placement);return"".concat(this.impactRadiusCouponCodeUrl,"?").concat(e)}},{key:"makeCouponWindow",value:function(){window.open("","partner-sale","width=520,height=340").location.href="/istock-coupons/coupon_code"}},{key:"getPartnerImageResults",value:function(){var e=new u.a(this.apiResultsWrapperTarget,this.searchTerm,this.partnerServiceUrl,this.addMoreButton),t=e.makeUrlParams(this.sharedId,this.subId1,this.subId2,this.adType,this.adPlacement);e.getResults({controllerElem:this.element,page:this.apiResultsWrapperTarget.getAttribute("data-page"),placement:this.placement,affiliate:this.apiResultsWrapperTarget.getAttribute("data-affiliate"),apiparams:this.apiResultsWrapperTarget.getAttribute("data-apiparams"),impactRadiusUrl:this.apiResultsWrapperTarget.getAttribute("data-impact-radius-url"),limit:this.apiResultsWrapperTarget.getAttribute("data-limit"),loc:this.apiResultsWrapperTarget.getAttribute("data-loc"),rowHeight:this.apiResultsWrapperTarget.getAttribute("data-row-height"),maxRows:this.apiResultsWrapperTarget.getAttribute("data-max-rows"),urlparams:t,padWithTerm:this.apiResultsWrapperTarget.getAttribute("data-pad-with-term")})}},{key:"viewMoreClick",value:function(){this.trackClick("Partner-View More")}},{key:"generateSearchUrl",get:function(){if("undefined"===typeof this.searchTerm||!this.searchTerm){var e=document.querySelector('[data-search-form-target="input"]');this.searchTerm=e.value}var t="vector"===this.adType?"illustrations":"photos",r=encodeURI(this.searchTerm.replace(/-/g," ")),a=document.querySelector("body").dataset.istockAdplacementSuffix;return void 0===a&&(a=""),"".concat(this.apiResultsWrapperTarget.getAttribute("data-impact-radius-url"),"?u=https://www.istockphoto.com/").concat(t,"/").concat(r,"&sharedid=www.vecteezy.com&subId1=view-more&subId2=").concat(this.subId2,"&adtype=").concat(this.adType,"&adplacement=VMB").concat(a,"&subId3=").concat(this.searchTerm,"_view_more_").concat(this.placement)}},{key:"adType",get:function(){return i.a.get("content_type")||"vector"}}])&&d(t.prototype,r),a&&d(t,a),m}(a.a);f.targets=["apiResultsWrapper","couponCodeLink"],f.values={terms:String}},212:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r(27),n=r.n(a),i=r(9),o=r.n(i),s=r(2);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l='\n  <svg width="30" height="30" class="partner-results__video-icon" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M15 2C7.8203 2 2 7.8203 2 15C2 22.1797 7.8203 28 15 28C22.1797 28 28 22.1797 28 15C28 7.8203 22.1797 2 15 2ZM0 15C0 6.71573 6.71573 0 15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15Z" />\n    <path d="M19.3661 14.1483L12.5241 9.93791C11.8578 9.52789 11 10.0072 11 10.7896V19.2104C11 19.9928 11.8578 20.4721 12.5241 20.0621L19.3661 15.8517C20.0006 15.4612 20.0006 14.5388 19.3661 14.1483Z" />\n  </svg>',d=function(){function e(t,r,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.renderResults=function(e,t){t.controllerElem.classList.contains("is-hidden")&&t.controllerElem.classList.remove("is-hidden"),e.data.forEach((function(e,r,a){var i=e,o=t.largeThumb?"preview":"large_thumb";i.index=n.calculateTotalIndex(r,t.page,t.limit),i.url="".concat(t.impactRadiusUrl,"?u=").concat(encodeURI(i.url)),i.image_src=i.assets[o].url,i.image_height=i.assets[o].height,i.image_width=i.assets[o].width,t.urlparams&&(i.url+="&".concat(t.urlparams));var c="similar"===n.placement?"".concat(n.mostRecentSearchTerm,"_").concat(i.id,"_top"):"".concat(n.searchTerm,"_").concat(i.id,"_").concat(n.placement);if(i.url+="&subId3=".concat(c),parseInt(i.image_height,10)/parseInt(i.image_width,10)>.45){var u=Object(s.z)(n.resultTemplate,i);if(n.gridContainer.insertAdjacentHTML("beforeend",u),"video"===Object(s.g)())n.gridContainer.lastElementChild.insertAdjacentHTML("beforeend",l)}if(r===a.length-1&&(n.gridContainer.classList.remove("is-hidden"),window.ezResourceGrid({gridSelector:n.gridContainer,options:{rowHeight:t.rowHeight||70,maxRows:parseInt(t.maxRows,10)||null},callback:n.gridCallback}),n.gridContainer.closest(".partner-sponsored-results"))){var d=n.gridContainer.height;n.gridContainer.style.height="unset",n.gridContainer.style.maxHeight="".concat(d,"px")}}))},this.recalcPartnerGrid=function(){window.ezResourceGrid({gridSelector:n.gridContainer,options:{rowHeight:n.recalcRowHeight,maxRows:n.recalcMaxRows}})},this.generateUrl=function(e){var t=n.serviceUrl.slice(0);if("undefined"===typeof n.searchTerm||!n.searchTerm){var r=document.querySelector('[data-search-form-target="input"]');n.searchTerm=r.value}var a="photo"===Object(s.g)()?"photography":Object(s.g)();t+="?term=".concat(encodeURI(n.searchTerm),"&locale=").concat(e.loc,"&type=").concat(a),Object(s.e)("partner-service-v2")&&(t+="&v=2");var i="undefined"!==typeof e.limit?e.limit:80;return t+="&per_page=".concat(i),e.page?t+="&page=".concat(parseInt(e.page,10)+1):t+="&page=1",null!=e.padResults&&(t+="&pad_images=".concat(e.padResults)),e.apiparams&&(t+="&".concat(e.apiparams)),e.padWithTerm&&(t+="&pad_with_term=".concat(e.padWithTerm)),t},this.container=t,this.searchTerm=r,this.serviceUrl=a,this.gridContainer=t.querySelector(".ez-resource-grid"),this.setupResultTemplate(),window.addEventListener("InitAllGrids",this.recalcPartnerGrid),this.gridCallback=i}var t,r,a;return t=e,(r=[{key:"setupResultTemplate",value:function(){this.defaultResultTemplate='\n      <li class="ez-resource-grid__item ez-resource-thumb" data-w="{{image_width}}" data-h="{{image_height}}" data-index="{{index}}" data-item-id="{{id}}">\n        <a class="ez-resource-thumb__link" title="{{description}}" target="_new" href="{{url}}">\n          <img class="ez-resource-thumb__img" src="{{image_src}}" alt="{{description}}" />\n        </a>\n      </li>\n      ',this.customResultTemplateElem=document.querySelector('[data-partner-images-target="resultTemplate"]'),this.customResultTemplateElem?(this.resultTemplate=document.querySelector('[data-partner-images-target="resultTemplate"]').innerHTML,this.customResultTemplateElem.parentNode.removeChild(this.customResultTemplateElem)):this.resultTemplate=this.defaultResultTemplate}},{key:"calculateTotalIndex",value:function(e,t,r){return r*(t+1)-(r-e)}},{key:"makeUrlParams",value:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return"sharedid=".concat(e)+"&subId1=".concat(t)+"&subId2=".concat(r)+"&adtype=".concat(a)+"&adplacement=".concat(n)}},{key:"getResults",value:function(e){var t=this;this.placement=e.placement||null,this.recalcRowHeight=e.rowHeight||70,this.recalcMaxRows=parseInt(e.maxRows,10)||null;var r=this.generateUrl(e);n.a.get(r).then((function(r){r.data&&(r.data.total_count?(t.container.hasAttribute("data-total-count")||t.container.setAttribute("data-total-count",r.data.total_count),t.renderResults(r.data,e),Object(s.O)("resultsLoaded")):Object(s.O)("resultsLoaded","END_OF_RESULTS"))})).catch((function(e){console.error(e)}))}},{key:"mostRecentSearchTerm",get:function(){return o.a.get("most_recent_search")||"null"}}])&&u(t.prototype,r),a&&u(t,a),e}()}}]);
//# sourceMappingURL=36-543a0a57d9f91a205ab3.chunk.js.map