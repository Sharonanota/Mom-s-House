(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{139:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return d}));var s=i(11),n=i(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=c(e);if(t){var n=c(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return u(this,i)}}function u(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=new(i(40).a),d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,i,s,u=l(c);function c(){var e;r(this,c);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=u.call.apply(u,[this].concat(i))).allowSwipe=function(){return!e.element.dataset.disallowSwipe},e.startSwipe=function(t){var i=t;e.getCurEdge("left"),e.isAnimating||("touchstart"===t.type&&(i=t.targetTouches[0]||t.changedTouches[0]),e.startX=i.pageX,e.startY=i.pageY,Object(n.a)(e.innerWrapTarget,"mousemove touchmove",e.swipeMove),Object(n.a)(document.body,"mouseup touchend",e.swipeEnd))},e.swipeMove=function(t){var i=t;if("touchmove"===t.type&&(i=t.targetTouches[0]||t.changedTouches[0]),e.moveX=i.pageX,e.moveY=i.pageY,!(Math.abs(e.moveX-e.startX)<40)){e.isAnimating=!0,e.element.classList.add("is-animating");var s=e.startX<e.moveX?"left":"right";e.move(s)}},e.swipeEnd=function(){0!==Math.abs(e.moveX-e.startX)&&(delete e.startX,delete e.startY,delete e.moveX,delete e.moveY,e.isAnimating=!1,e.element.classList.remove("is-animating"),Object(n.E)(e.innerWrapTarget,"mousemove touchmove",e.swipeMove),Object(n.E)(document.body,"mouseup touchend",e.swipeEnd))},e}return t=c,(i=[{key:"connect",value:function(){var e=this;if(this.options={transition:{speed:this.element.dataset.speed||500,easing:""},swipe:this.allowSwipe(),afterChangeSlide:function(){},numSlidesMove:{largeScreen:parseInt(this.element.dataset.perSlideLarge,10)||6,mediumScreen:parseInt(this.element.dataset.perSlideMedium,10)||3,smallScreen:parseInt(this.element.dataset.perSlideSmall,10)||1},mobileBreakpoint:this.element.dataset.mobileBreakpoint||null,mobileDisable:this.element.dataset.mobileDisable||!1},this.arrows={left:this.arrowLeftTarget,right:this.arrowRightTarget},Object(n.e)("header-and-search-optimizations")&&this.options.mobileDisable){var t=parseInt(this.options.mobileBreakpoint,10)+1;h.addMediaQuery("(min-width: ".concat(t,"px)"),(function(){e.initCarousel()})),h.evaluateAll(),h.addListeners()}else this.initCarousel()}},{key:"disconnect",value:function(){Object(n.e)("header-and-search-optimizations")&&this.options.mobileDisable&&(h.removeListeners(),h.clearQueries())}},{key:"initCarousel",value:function(){var e=this;this.innerWrapTarget.style.transition="left ".concat(this.options.transition.speed/1e3,"s ").concat(this.options.transition.easing),this.curPos=0,this.totalSlides=this.slideTargets.length,this.isAnimating=!1,window.addEventListener("resize",Object(n.c)((function(){e.setupResponsive()})),500),this.setupResponsive(),this.innerWrapTarget.style.width="".concat(this.calculateSlidesWidth()+20,"px"),this.options.swipe&&Object(n.a)(this.innerWrapTarget,"mousedown touchstart",this.startSwipe)}},{key:"calculateSlidesWidth",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.slideTargets,t=0,i=0,s=e.length;i<s;i+=1){var n=e[i].getAttribute(this.getSlideWidthAttr())||e[i].offsetWidth;t+=Math.ceil(parseInt(n,10))+10}return t}},{key:"getSlideWidthAttr",value:function(){return this.options.mobileBreakpoint&&Object(n.n)()<=this.options.mobileBreakpoint?"data-thumb-width-mobile":"data-thumb-width"}},{key:"determineArrowVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.outerWrapTarget,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.innerWrapTarget;t.offsetWidth<=e.offsetWidth?this.arrows.right.classList.remove("is-active"):this.arrows.right.classList.add("is-active")}},{key:"arrowClick",value:function(e){var t=this,i=e.currentTarget.dataset.direction;this.element.classList.contains("is-animating")||this.getCurEdge(i)<0&&setTimeout((function(){t.move(i)}),20)}},{key:"setupResponsive",value:function(){this.isMobile=!1,this.numSlidesMove=this.options.numSlidesMove.smallScreen,Object(n.n)()>800?this.numSlidesMove=this.options.numSlidesMove.largeScreen:(Object(n.n)()>450&&(this.numSlidesMove=this.options.numSlidesMove.mediumScreen),this.isMobile=!0),this.resetCarousel()}},{key:"resetCarousel",value:function(){this.innerWrapTarget.style.left="0px",this.curPos=0,this.arrows.left.classList.remove("is-active"),this.determineArrowVisibility()}},{key:"getOppositeDir",value:function(e){return"left"===e?"right":"left"}},{key:"getCurEdge",value:function(e){var t;return(t="left"===e?this.innerWrapTarget.offsetLeft:this.element.offsetWidth-(this.innerWrapTarget.offsetLeft+this.innerWrapTarget.offsetWidth))<0&&t>-3&&this.arrows[e].classList.remove("is-active"),t}},{key:"move",value:function(e){var t=this,i=this.calcTransition(e);this.innerWrapTarget.style.left="".concat(this.getCurEdge("left")+i,"px"),this.element.classList.add("is-animating"),this.getCurEdge(e)<0&&this.arrows[this.getOppositeDir(e)].classList.add("is-active"),setTimeout((function(){t.element.classList.remove("is-animating"),t.getCurEdge(e)>=0&&t.arrows[e].classList.remove("is-active"),t.curPos=t.nextPos}),this.options.transition.speed),this.options.afterChangeSlide(this)}},{key:"calcTransition",value:function(e){var t=this.getSlidesSubArray(e),i=this.calculateSlidesWidth(t);return this.predictNextEdge(e,i)<0?i="left"===e?-this.getCurEdge(e):this.getCurEdge(e):"right"===e&&(i*=-1),i}},{key:"predictNextEdge",value:function(e,t){return Math.abs(this.getCurEdge(e))-t}},{key:"getSlidesSubArray",value:function(e){var t;return"left"===e?(this.nextPos=this.curPos-this.numSlidesMove,t=this.slideTargets.slice(this.nextPos,this.nextPos+this.numSlidesMove)):(this.nextPos=this.curPos+this.numSlidesMove,t=this.slideTargets.slice(this.curPos,this.nextPos)),t}}])&&o(t.prototype,i),s&&o(t,s),c}(s.b);d.targets=["outerWrap","innerWrap","slide","arrowLeft","arrowRight"]}}]);
//# sourceMappingURL=ez-carousel-controller-16c940a9548a0c58fa8f.chunk.js.map